<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="This plugin extends megadoc&#39;s JS plugin with support for React components both during the analysis phase and in the UI." />

    <title>megadoc-plugin-react
</title>

    
    <link rel="stylesheet" href="../../styles.css" />
    
  </head>

  <body class="body--themed">
    <div id="__app__"><div data-reactroot="" data-reactid="1" data-react-checksum="147673481"><div data-reactid="2"><!-- react-empty: 3 --></div><!-- react-empty: 4 --><div class="root root--with-multi-page-layout root--with-fixed-sidebar root--with-two-column-layout root--with-banner" data-reactid="5"><div class="banner-wrapper" data-reactid="6"><header class="banner" data-reactid="7"><h1 class="banner__logo" data-reactid="8"><a href="../../index.html" class="" data-reactid="9">megadoc</a><!-- react-text: 10 --> <!-- /react-text --></h1><nav class="banner__navigation" data-reactid="11"><div class="banner__navigation-item" title="Quick-Jump (Ctrl+K or CMD+K)" data-reactid="12"><i class="icon icon-search" data-reactid="13"></i></div><span data-reactid="14"><div class="banner__navigation-item" data-reactid="15"><a href="../../usage/readme.html" class="" data-reactid="16">Usage</a></div><div class="banner__navigation-item" data-reactid="17"><div class="banner__menu banner__menu--active" data-reactid="18"><span class="banner__menu-title" data-reactid="19"><span data-reactid="20"><!-- react-text: 21 -->Plugins<!-- /react-text --><!-- react-text: 22 --> <!-- /react-text --><i class="icon icon-arrow-down" data-reactid="23"></i></span></span></div></div><div class="banner__navigation-item" data-reactid="24"><div class="banner__menu" data-reactid="25"><span class="banner__menu-title" data-reactid="26"><span data-reactid="27"><!-- react-text: 28 -->Developers<!-- /react-text --><!-- react-text: 29 --> <!-- /react-text --><i class="icon icon-arrow-down" data-reactid="30"></i></span></span></div></div><div class="banner__navigation-item" data-reactid="31"><a href="../../changes.html" class="" data-reactid="32">Changes</a></div></span></nav></header></div><div class="root__screen" data-reactid="33"><div class="two-column-layout two-column-layout--with-nav" data-reactid="34"><div class="two-column-layout__left" style="width:240px;" data-reactid="35"><div class="resizable-panel" data-reactid="36"><div class="resizable-panel__content" data-reactid="37"><div data-reactid="38"><div data-reactid="39"><nav data-reactid="40"><div data-reactid="41"><div data-reactid="42"><a href="" class="class-browser__entry-link active" data-reactid="43"><!-- react-text: 44 -->megadoc-plugin-react
<!-- /react-text --></a></div><div data-reactid="45"><a href="todo.html" class="class-browser__entry-link" data-reactid="46"><!-- react-text: 47 -->TODO
<!-- /react-text --></a></div></div></nav></div><div data-reactid="48"><h3 class="layout__sidebar-header" data-reactid="49">API</h3></div><div data-reactid="50"><nav class="class-browser__listing" data-reactid="51"><div class="class-browser__category" data-reactid="52"><h3 class="class-browser__category-name" data-reactid="53">BabelTransformExample</h3><div class="class-browser__entry" data-reactid="54"><a href="BabelTransformExample/Root.html" class="class-browser__entry-link" data-reactid="55"><!-- react-text: 56 -->Root<!-- /react-text --></a></div></div><div class="class-browser__category" data-reactid="57"><h3 class="class-browser__category-name" data-reactid="58">SimpleExample</h3><div class="class-browser__entry" data-reactid="59"><a href="SimpleExample/Root.html" class="class-browser__entry-link" data-reactid="60"><!-- react-text: 61 -->Root<!-- /react-text --></a></div></div><div class="class-browser__category" data-reactid="62"><h3 class="class-browser__category-name" data-reactid="63">[General]</h3><div class="class-browser__entry" data-reactid="64"><a href="Config.html" class="class-browser__entry-link" data-reactid="65"><!-- react-text: 66 -->Config<!-- /react-text --></a></div></div></nav></div></div></div><div class="ui-resizable-handle ui-resizable-e" data-reactid="67"></div></div></div><div class="two-column-layout__right" style="margin-left:240px;" data-reactid="68"><div data-reactid="69"><div class="doc-content" data-reactid="70"><div data-reactid="71"><div data-reactid="72"><div class="highlighted-text " data-reactid="73">
    <h1 class="anchorable-heading">
      <a name="megadoc-plugin-react" class="anchorable-heading__anchor"></a>
      <a href="#megadoc-plugin-react" class="anchorable-heading__link icon icon-link"></a><span class="anchorable-heading__text">megadoc-plugin-react</span>
    </h1>
  <p>This plugin extends <a href="https://github.com/megadoc/megadoc-plugin-js" target="_blank">megadoc&#39;s JS plugin</a> with support for <a href="http://facebook.github.io/react" target="_blank">React</a> components both during the analysis phase and in the UI.</p>
<p>A demo can be <a href="http://megadoc.github.io/megadoc-plugin-react/" target="_blank">seen here</a>. Make sure you try out the real-time editor by clicking on the <code>Try it!</code> link for component modules.</p>

    <h2 class="anchorable-heading">
      <a name="features" class="anchorable-heading__anchor"></a>
      <a href="#features" class="anchorable-heading__link icon icon-link"></a><span class="anchorable-heading__text">Features</span>
    </h2>
  <p>UI stuff:</p>
<ul>
<li>a real-time editor for previewing components and trying them out</li>
<li>display pre-defined examples of your components that will be viewable at run-time in the UI by others, highlighting how to use the component and how it will look like.</li>
</ul>
<p>Core/analysis stuff:</p>
<ul>
<li>all <code>React.createClass</code> components will be marked as modules</li>
<li>in-depth analysis of <code>propTypes</code></li>
<li>understands <code>statics</code> so that megadoc will be able to properly differentiate between instance and static methods in the UI</li>
</ul>

    <h2 class="anchorable-heading">
      <a name="installation" class="anchorable-heading__anchor"></a>
      <a href="#installation" class="anchorable-heading__link icon icon-link"></a><span class="anchorable-heading__text">Installation</span>
    </h2>
  <pre class="language-javascript"><code>npm install megadoc megadoc<span class="token operator" >-</span>plugin<span class="token operator" >-</span>js megadoc<span class="token operator" >-</span>plugin<span class="token operator" >-</span>react</code></pre>
    <h2 class="anchorable-heading">
      <a name="usage" class="anchorable-heading__anchor"></a>
      <a href="#usage" class="anchorable-heading__link icon icon-link"></a><span class="anchorable-heading__text">Usage</span>
    </h2>
  <p>This plugin expects to be installed onto a megadoc JS plugin so that it provides its sources with the React support:</p>
<pre class="language-javascript"><code><span class="token comment" spellcheck="true">// @file megadoc.conf.js</span>

<span class="token keyword" >var</span> jsPlugin <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'megadoc-plugins-js'</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  routeName<span class="token punctuation" >:</span> <span class="token string" >'js'</span><span class="token punctuation" >,</span>
  source<span class="token punctuation" >:</span> <span class="token punctuation" >[</span> <span class="token string" >'lib/components/**/*.js'</span> <span class="token punctuation" >]</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >var</span> reactPlugin <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'megadoc-plugin-react'</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  routeName<span class="token punctuation" >:</span> <span class="token string" >'js'</span> <span class="token comment" spellcheck="true">// &lt;- this must match the JS plugin's</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

config<span class="token punctuation" >.</span>plugins<span class="token punctuation" >.</span><span class="token function" >push</span><span class="token punctuation" >(</span>jsPlugin<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
config<span class="token punctuation" >.</span>plugins<span class="token punctuation" >.</span><span class="token function" >push</span><span class="token punctuation" >(</span>reactPlugin<span class="token punctuation" >)</span><span class="token punctuation" >;</span></code></pre><p>This gives you the flexibility to, for example, run this plugin only on a subset of JS files (your component files) and leave the rest of the codebase.</p>
<p>Unfortunately, a bit more setup is required to make the examples show up. Please refer to the <a href="../../dev/api/Config.html" class="mega-link--internal">config</a> page for more on tuning the plugin.</p>
<p>There are examples under <code>doc/examples</code> that show how to use a transformer if you need one (like webpack, browserify, etc.)</p>

    <h3 class="anchorable-heading">
      <a name="compiling-your-component-files" class="anchorable-heading__anchor"></a>
      <a href="#compiling-your-component-files" class="anchorable-heading__link icon icon-link"></a><span class="anchorable-heading__text">Compiling your component files</span>
    </h3>
  <p>If you need to pre-process your sources or produce a built file so that your components can be renderable at run-time, define the <code>compile</code> hook to do the work necessary. See the examples below for guidance.</p>

    <h4 class="anchorable-heading">
      <a name="example-using-webpack-as-a-compiler" class="anchorable-heading__anchor"></a>
      <a href="#example-using-webpack-as-a-compiler" class="anchorable-heading__link icon icon-link"></a><span class="anchorable-heading__text">Example: using Webpack as a compiler</span>
    </h4>
  <p>We&#39;ll write a lodash (or Handlebars, or whatever) template file that will require the component files and export them to the global with the correct names.</p>
<p>The template receives a single parameter as described above:</p>
<ul>
<li><code>components</code> - <code>Array&lt;{ name: String, filePath: String }&gt;</code></li>
</ul>
<p>The template might look something like this:</p>
<pre class="language-javascript"><code>window<span class="token punctuation" >.</span>React <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'react'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token operator" >&lt;</span><span class="token operator" >%</span> _<span class="token punctuation" >.</span><span class="token function" >forEach</span><span class="token punctuation" >(</span>components<span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>component<span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token operator" >%</span><span class="token operator" >></span>
  window<span class="token punctuation" >[</span><span class="token string" >'&lt;%- component.name %>'</span><span class="token punctuation" >]</span> <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'&lt;%- component.filePath %>'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token operator" >&lt;</span><span class="token operator" >%</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span> <span class="token operator" >%</span><span class="token operator" >></span></code></pre><p>Now for configuring the plugin, we&#39;ll need to run webpack using its <a href="http://webpack.github.io/docs/node.js-api.html" target="_blank">node api</a> and give the <strong>absolute file path</strong> of the compiled bundle back to the plugin so it knows what to include at run-time.</p>
<pre class="language-javascript"><code><span class="token keyword" >var</span> _ <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'lodash'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >var</span> webpack <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'webpack'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">// our template file from above</span>
<span class="token keyword" >var</span> entryFileTemplate <span class="token operator" >=</span> _<span class="token punctuation" >.</span><span class="token function" >template</span><span class="token punctuation" >(</span>
  fs<span class="token punctuation" >.</span><span class="token function" >readFileSync</span><span class="token punctuation" >(</span>path<span class="token punctuation" >.</span><span class="token function" >resolve</span><span class="token punctuation" >(</span>__dirname<span class="token punctuation" >,</span>  <span class="token string" >'reactPlugin.tmpl.js'</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span> <span class="token string" >'utf-8'</span><span class="token punctuation" >)</span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >var</span> reactPlugin <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'megadoc-plugin-react'</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  compile<span class="token punctuation" >:</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>compiler<span class="token punctuation" >,</span> components<span class="token punctuation" >,</span> done<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >var</span> entryFileContents <span class="token operator" >=</span> <span class="token function" >entryFileTemplate</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      components<span class="token punctuation" >:</span> components
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    <span class="token comment" spellcheck="true">// write it a temp file and we'll feed it to webpack as an entry</span>
    <span class="token keyword" >var</span> entryFilePath <span class="token operator" >=</span> compiler<span class="token punctuation" >.</span>utils<span class="token punctuation" >.</span><span class="token function" >writeTmpFile</span><span class="token punctuation" >(</span>entryFileContents<span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    <span class="token comment" spellcheck="true">// this is where webpack will write its stuff</span>
    <span class="token keyword" >var</span> outputDir <span class="token operator" >=</span> compiler<span class="token punctuation" >.</span>utils<span class="token punctuation" >.</span><span class="token function" >getTmpDir</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token keyword" >var</span> outputFileName <span class="token operator" >=</span> <span class="token string" >'my-react-components.js'</span><span class="token punctuation" >;</span>

    <span class="token keyword" >var</span> webpackConfig <span class="token operator" >=</span> <span class="token punctuation" >{</span>
      entry<span class="token punctuation" >:</span> entryFilePath<span class="token punctuation" >,</span>
      output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        path<span class="token punctuation" >:</span> outputDir<span class="token punctuation" >,</span>
        filename<span class="token punctuation" >:</span> outputFileName<span class="token punctuation" >,</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

    <span class="token function" >webpack</span><span class="token punctuation" >(</span>webpackConfig<span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>fatalError<span class="token punctuation" >,</span> stats<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
      <span class="token keyword" >if</span> <span class="token punctuation" >(</span>fatalError<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >return</span> <span class="token function" >done</span><span class="token punctuation" >(</span>fatalError<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
      <span class="token punctuation" >}</span>

      <span class="token keyword" >var</span> jsonStats <span class="token operator" >=</span> stats<span class="token punctuation" >.</span><span class="token function" >toJson</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

      <span class="token keyword" >if</span> <span class="token punctuation" >(</span>jsonStats<span class="token punctuation" >.</span>errors<span class="token punctuation" >.</span>length <span class="token operator" >></span> <span class="token number" >0</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >return</span> <span class="token function" >done</span><span class="token punctuation" >(</span>jsonStats<span class="token punctuation" >.</span>errors<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
      <span class="token punctuation" >}</span>

      <span class="token function" >done</span><span class="token punctuation" >(</span><span class="token keyword" >null</span><span class="token punctuation" >,</span> path<span class="token punctuation" >.</span><span class="token function" >join</span><span class="token punctuation" >(</span>outputDir<span class="token punctuation" >,</span> outputFileName<span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code></pre></div><!-- react-empty: 74 --></div></div></div><div class="footer" data-reactid="75"><div class="markdown-text " data-reactid="76"><p>Made with &#9829; using <a href="https://github.com/megadoc" target="_blank">megadoc</a>.</p>
</div></div></div></div><div class="two-column-layout__nav" data-reactid="77"><div class="sticky-container" data-reactid="78"><div class="doc-content" data-reactid="79"><p data-reactid="80">Contents</p><div data-reactid="81"><div data-reactid="82"><ul class="markdown-toc markdown-toc--flat" data-reactid="83"><li class="markdown-toc__entry" data-reactid="84"><a href="#features" class="" data-reactid="85">Features</a></li><li class="markdown-toc__entry" data-reactid="86"><a href="#installation" class="" data-reactid="87">Installation</a></li><li class="markdown-toc__entry markdown-toc__entry--collapsible" data-reactid="88"><i class="icon icon-arrow-right" data-reactid="89"></i><a href="#usage" class="" data-reactid="90">Usage</a><ul class="markdown-toc" data-reactid="91"><li class="markdown-toc__entry markdown-toc__entry--collapsible" data-reactid="92"><i class="icon icon-arrow-right" data-reactid="93"></i><a href="#compiling-your-component-files" class="" data-reactid="94">Compiling your component files</a><ul class="markdown-toc" data-reactid="95"><li class="markdown-toc__entry" data-reactid="96"><a href="#example-using-webpack-as-a-compiler" class="" data-reactid="97">Example: using Webpack as a compiler</a></li></ul></li></ul></li></ul></div></div></div></div></div></div></div></div></div></div>
    
    <script type="text/javascript" src="../../config.js"></script>
    
    <script type="text/javascript" src="../../megadoc__vendor.js"></script>
    
    <script type="text/javascript" src="../../megadoc.js"></script>
    
    <script type="text/javascript" src="../../plugins/megadoc-plugin-js.js"></script>
    
    <script type="text/javascript" src="../../plugins/megadoc-plugin-markdown.js"></script>
    
    <script type="text/javascript" src="../../plugins/megadoc-theme-qt.js"></script>
    
    <script type="text/javascript" src="../../plugins/megadoc-plugin-dot.js"></script>
    
    <script type="text/javascript">
      megadoc.start({
        startingDocumentUID: "md__megadoc-plugin-react/readme"
      });
    </script>
  </body>
</html>
